# Spirare â€” MeditaÃ§Ã£o Guiada Interativa

Spirare Ã© um ritual de meditaÃ§Ã£o guiada construÃ­do com Next.js 15, TypeScript e TailwindCSS. A experiÃªncia apresenta## ğŸ§© Funcionalidades

### Interface de MeditaÃ§Ã£o

- **Overlay inicial**: botÃ£o circular sem textos internos, apenas Ã­cones (Play + Wind) com efeito lÃ­quido.
- **Header**: badge de milestone, LED ritmado pelo metrÃ´nomo e botÃ£o "AvanÃ§ar Etapa".
- **Visualizador de respiraÃ§Ã£o**: barras em glassmorphism pulsando conforme o perÃ­odo configurado.
- **Knob 3D**: controla o perÃ­odo do metrÃ´nomo com feedback de## ğŸ“š DocumentaÃ§Ã£o Adicional

### Core Documentation
- [`/rules/DATABASE.md`](../rules/DATABASE.md) - Complete database system documentation
- [`/rules/TYPE_SAFETY_RULES.md`](../rules/TYPE_SAFETY_RULES.md) - Type safety guidelines
- [`/rules/GLOBAL_API_TYPES.md`](../rules/GLOBAL_API_TYPES.md) - API type system documentation

### Development Guides
- [`.github/copilot-instructions.md`](.github/copilot-instructions.md) - This file - Development guidelines

### Quick Links
- All rules and patterns: [`/rules`](../rules/)
- Type definitions: [`/src/types`](../src/types/)
- React Query providers: [`/src/providers`](../src/providers/)

## ğŸ“„ LicenÃ§a micro-animaÃ§Ãµes no ritmo das batidas.
- **Controles finais**: opÃ§Ãµes para encerrar ou reiniciar a jornada; na fase final o metrÃ´nomo permanece ativo.

### Sistema Administrativo

- **GestÃ£o de Ãudios**: upload, ediÃ§Ã£o e controle de trilhas sonoras de fundo.
- **GestÃ£o de Temas**: criaÃ§Ã£o e personalizaÃ§Ã£o de temas de meditaÃ§Ã£o (ansiedade, foco, etc.).
- **EdiÃ§Ã£o de ConteÃºdo**: interface para modificar textos de cada fase da meditaÃ§Ã£o.
- **Estrutura PersonalizÃ¡vel**: definiÃ§Ã£o da ordem e duraÃ§Ã£o dos elementos em cada etapa.
- **ValidaÃ§Ã£o Completa**: todos os dados sÃ£o validados com Zod antes de serem salvos.

### API e Dados

- **CRUD Completo**: endpoints REST para todas as operaÃ§Ãµes de dados.
- **ValidaÃ§Ã£o de Schema**: Zod assegura integridade dos dados em todos os nÃ­veis.
- **Type Safety**: TypeScript garante consistÃªncia entre frontend e backend.
- **Seeding AutomÃ¡tico**: populaÃ§Ã£o inicial do banco com dados estruturados.iva em Ã¡udio, temporizadores inteligentes, visualizaÃ§Ã£o rÃ­tmica de respiraÃ§Ã£o e um sistema completo de gestÃ£o de conteÃºdo.

## âœ¨ ExperiÃªncia

- **Fluxo de 4 etapas Ã— 4 momentos** â€” jornada fixa para cultivar presenÃ§a, respiraÃ§Ã£o, imaginaÃ§Ã£o e integraÃ§Ã£o.
- **Narrativa por IA** â€” cada instruÃ§Ã£o Ã© narrada via rota `/api/speech` usando o modelo `gpt-4o-mini-tts`.
- **Timer lÃ­quido + grÃ¡fico de respiraÃ§Ã£o** â€” progresso circular combinado com visualizador em glassmorphism para indicar a cadÃªncia.
- **MetrÃ´nomo com perÃ­odo ajustÃ¡vel** â€” knob 3D controla o intervalo das batidas (600â€“1800 ms) e sincroniza o LED superior.
- **Controles conscientes** â€” play/pause, pular momento, encerramento e reinÃ­cio rÃ¡pido.
- **Sistema de gestÃ£o completo** â€” interface administrativa para editar conteÃºdos, temas e Ã¡udios.
- **Banco de dados MongoDB** â€” armazenamento estruturado com validaÃ§Ã£o Zod para todos os dados.MeditaÃ§Ã£o Guiada Interativa

Spirare Ã© um ritual de meditaÃ§Ã£o guiada construÃ­do com Next.js 15, TypeScript e TailwindCSS. A experiÃªncia apresenta narrativa em Ã¡udio, temporizadores inteligentes, visualizaÃ§Ã£o rÃ­tmica de respiraÃ§Ã£o e um metrÃ´nomo lÃ­quido que conduz a prÃ¡tica do inÃ­cio ao fim.

## âœ¨ ExperiÃªncia

- **Fluxo de 4 etapas Ã— 4 momentos** â€” jornada fixa para cultivar presenÃ§a, respiraÃ§Ã£o, imaginaÃ§Ã£o e integraÃ§Ã£o.
- **Narrativa por IA** â€” cada instruÃ§Ã£o Ã© narrada via rota `/api/speech` usando o modelo `gpt-4o-mini-tts`.
- **Timer lÃ­quido + grÃ¡fico de respiraÃ§Ã£o** â€” progresso circular combinado com visualizador em glassmorphism para indicar a cadÃªncia.
- **MetrÃ´nomo com perÃ­odo ajustÃ¡vel** â€” knob 3D controla o intervalo das batidas (600â€“1800â€¯ms) e sincroniza o LED superior.
- **Controles conscientes** â€” play/pause, pular momento, encerramento e reinÃ­cio rÃ¡pido.
- **Overlay inicial lÃ­quido** â€” botÃ£o apenas com Ã­cones seguindo o conceito â€œliquid glassâ€.

## ğŸ§± Arquitetura

### Frontend (Interface de MeditaÃ§Ã£o)

| Ãrea                                   | DescriÃ§Ã£o                                                                                                    |
| -------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| `src/constants/meditation.ts`          | ConteÃºdo canÃ´nico da sessÃ£o (tema "Paz Interior", etapas e duraÃ§Ã£o padrÃ£o de 120 s por subetapa).            |
| `src/app/components/meditation/`       | Conjunto modular de componentes (StartOverlay, SessionHeader, TimerPanel, BreathVisualizer, Controles etc.). |
| `src/app/components/meditation/hooks/` | Hooks dedicados para fala (`useSpeech`) e metrÃ´nomo (`useMetronome`).                                        |

### Backend (API e Banco de Dados)

| Ãrea                          | DescriÃ§Ã£o                                                                                              |
| ----------------------------- | ------------------------------------------------------------------------------------------------------ |
| `src/app/api/speech/route.ts` | Rota Next.js que consome o SDK oficial da OpenAI para gerar o Ã¡udio em tempo real.                     |
| `src/app/api/database/`       | CRUD APIs para Ã¡udios, temas e conteÃºdos de meditaÃ§Ã£o.                                                 |
| `src/services/`               | Camada de serviÃ§os para interaÃ§Ã£o com MongoDB (AudioService, ThemeService, MeditationDatabaseService). |
| `src/types/database.ts`       | Schemas Zod para validaÃ§Ã£o de dados e tipos TypeScript.                                                |

### Sistema de GestÃ£o

| Ãrea                          | DescriÃ§Ã£o                                           |
| ----------------------------- | --------------------------------------------------- |
| `src/app/admin/`              | Interface administrativa para gestÃ£o de conteÃºdos.  |
| `src/scripts/seedDatabase.ts` | Script para popular o banco com dados iniciais.     |
| `DATABASE.md`                 | DocumentaÃ§Ã£o completa do sistema de banco de dados. |

> Todos os elementos interativos recebem `cursor: pointer`, garantindo consistÃªncia com a diretriz de interaÃ§Ã£o do produto.

## ğŸ› ï¸ Tecnologias

### Frontend

- Next.js 15 (App Router) + React 19
- TypeScript estrito
- TailwindCSS 4 (modo JIT) + Sass para estilos customizados
- `@tanstack/react-query` para data fetching e caching
- `react-circular-progressbar` para o halo de progresso
- `lucide-react` para iconografia
- Web Audio API para o metrÃ´nomo granuloso
- OpenAI SDK (`gpt-4o-mini-tts`) para Text-to-Speech

### Backend & Database

- MongoDB (nativo driver) para armazenamento de dados
- Zod para validaÃ§Ã£o de schemas
- Next.js API Routes para endpoints REST
- TypeScript para type safety em toda a aplicaÃ§Ã£o

### Data Fetching Pattern

- **`src/providers/`** - **OBRIGATÃ“RIO**: Todos os hooks de React Query (queries e mutations)
  - **Um provider por arquivo**: cada hook em seu prÃ³prio arquivo
  - Se precisar de escopo, crie um diretÃ³rio (ex: `CategoryProviders/`)
  - **Queries**: Fetching de dados com cache automÃ¡tico (GET requests)
  - **Mutations**: OperaÃ§Ãµes de escrita (POST, PUT, DELETE)
  - Exemplo de query: `useCategoriesQuery.ts`
  - Exemplo de mutation: `useCreateOrUpdateMutation.ts`
  - Cada provider exporta um Ãºnico hook especÃ­fico
  - Centraliza toda lÃ³gica de chamadas a APIs
  - `index.ts` re-exporta todos os providers

#### ğŸš¨ Regra CrÃ­tica de Data Fetching

**TODAS as chamadas REST API devem ser feitas atravÃ©s de React Query providers**

- âŒ **NUNCA** use `fetch()` diretamente em componentes ou pÃ¡ginas
- âŒ **NUNCA** use `useEffect` + `fetch` para buscar dados
- âœ… **SEMPRE** crie um provider em `src/providers/` usando `useQuery` ou `useMutation`
- âœ… **SEMPRE** importe e use o hook do provider no componente
- âœ… React Query gerencia cache, refetch, loading states automaticamente

**Exemplo INCORRETO:**

```typescript
// âŒ NÃƒO FAÃ‡A ISSO
const [data, setData] = useState(null);
useEffect(() => {
  fetch("/api/categories")
    .then((r) => r.json())
    .then(setData);
}, []);
```

**Exemplo CORRETO:**

```typescript
// âœ… FAÃ‡A ISSO
// 1. Crie src/providers/useCategoriesQuery.ts
export const useCategoriesQuery = () => {
  return useQuery({
    queryKey: ["categories"],
    queryFn: async () => {
      const response = await fetch("/api/categories");
      return response.json();
    },
  });
};

// 2. Use no componente
import { useCategoriesQuery } from "@/providers";
const { data, isLoading, error } = useCategoriesQuery();
```

### ğŸ”· Type Safety Pattern

**TODOS os tipos devem ser compartilhados entre frontend e backend**

- **`src/types/`** - **OBRIGATÃ“RIO**: Todos os tipos TypeScript da aplicaÃ§Ã£o
  - `database.ts` - Schemas Zod e tipos de banco de dados (Theme, Audio, Structure, Meditations)
  - `api.ts` - Tipos de API (requests, responses, payloads)
  - `index.ts` - Re-exporta todos os tipos para import centralizado

#### ğŸš¨ Regras CrÃ­ticas de Tipagem

**NUNCA defina tipos localmente em rotas de API ou providers**

- âŒ **NUNCA** crie `interface` dentro de arquivos de API routes (`/api/**/*.ts`)
- âŒ **NUNCA** crie `interface` dentro de providers (`/providers/**/*.ts`)
- âŒ **NUNCA** duplique tipos entre frontend e backend
- âœ… **SEMPRE** defina tipos em `/src/types/api.ts` ou `/src/types/database.ts`
- âœ… **SEMPRE** importe tipos de `@/types` ou `@/types/api`
- âœ… **SEMPRE** use os mesmos tipos em API routes e providers

**Exemplo INCORRETO:**

```typescript
// âŒ NÃƒO FAÃ‡A ISSO - tipo local em API route
// src/app/api/themes/route.ts
interface Theme {
  // âŒ ERRADO!
  category: string;
  title: string;
}

export async function GET() {
  const themes: Theme[] = await fetchThemes();
  return NextResponse.json({ themes });
}
```

```typescript
// âŒ NÃƒO FAÃ‡A ISSO - tipo duplicado em provider
// src/providers/useThemesQuery.ts
interface Theme {
  // âŒ DUPLICADO!
  category: string;
  title: string;
}

async function fetchThemes(): Promise<Theme[]> {
  // ...
}
```

**Exemplo CORRETO:**

```typescript
// âœ… FAÃ‡A ISSO
// 1. Defina tipos em /src/types/api.ts
export interface GetThemesResponse {
  themes: Theme[];
}

// 2. Use no API route
// src/app/api/themes/route.ts
import type { GetThemesResponse } from "@/types/api";
import { Theme } from "@/types/database";

export async function GET() {
  const themes: Theme[] = await fetchThemes();
  const response: GetThemesResponse = { themes };
  return NextResponse.json(response);
}

// 3. Use no provider
// src/providers/useThemesQuery.ts
import type { GetThemesResponse } from "@/types/api";

async function fetchThemes() {
  const response = await fetch("/api/themes");
  const data: GetThemesResponse = await response.json();
  return data.themes;
}
```

**Estrutura de Tipos:**

```
src/types/
â”œâ”€â”€ database.ts      # Schemas Zod + tipos de modelos (Theme, Audio, etc.)
â”œâ”€â”€ api.ts          # Request/Response types para todas as APIs
â””â”€â”€ index.ts        # Re-exporta tudo
```

**BenefÃ­cios:**

- âœ… Type safety total entre frontend e backend
- âœ… MudanÃ§as em contratos de API detectadas em compile-time
- âœ… IntelliSense completo em toda a aplicaÃ§Ã£o
- âœ… Single source of truth para estruturas de dados
- âœ… Refactoring seguro e automatizado

### Estrutura de Arquivos

- **`src/styles/`** - Todos os arquivos de estilo globais

  - Use Sass (`.sass` ou `.scss`) para estilos customizados
  - `globals.css` - estilos globais e configuraÃ§Ã£o do Tailwind
  - Evite CSS inline ou CSS modules quando possÃ­vel

- **`public/`** - Arquivos estÃ¡ticos servidos diretamente
  - Todos os Ã­cones e favicons devem estar aqui
  - Imagens, fontes, e outros assets pÃºblicos
  - AcessÃ­vel via `/` (ex: `/icon.svg`)

## ğŸ¨ Identidade de Marca

- **Nome**: Spirare
- **EssÃªncia**: respiraÃ§Ã£o guiada, luz difusa, sensaÃ§Ã£o de orbitar calma.
- **Paleta principal**:
  - Verde floresta `#065f46`
  - Verde brisa `#34d399`
  - Amarelo amanhecer `#fbbf24`
  - Marfim luminoso `#fef9f3`
- **Arquivos oficiais**:
  - Marca: `public/spirare-mark.svg`
  - Logotipo horizontal: `public/spirare-logotype.svg`
  - Favicon/App icon: `public/icon.svg`
- **Uso**: mantenha a marca sobre fundos claros translÃºcidos (glassmorphism). Evite distorcer os cantos arredondados e preserve o brilho suave aplicado Ã s superfÃ­cies.

## ğŸ–¥ï¸ ExecuÃ§Ã£o local

```bash
npm install
npm run dev
# abre em http://localhost:3000
```

### VariÃ¡veis de Ambiente

Crie um arquivo `.env.local` com:

```bash
# OpenAI API (para Text-to-Speech)
OPENAI_API_KEY=your_openai_api_key

# MongoDB (local ou Atlas)
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB=spirare
```

### InicializaÃ§Ã£o do Banco de Dados

ApÃ³s configurar o MongoDB, popule com dados iniciais:

```bash
# Via API (aplicaÃ§Ã£o rodando)
curl -X POST http://localhost:3000/api/database/seed

# Ou acesse diretamente no navegador
# http://localhost:3000/api/database/seed
```

### Interface Administrativa

A interface administrativa Ã© protegida por autenticaÃ§Ã£o. As credenciais podem ser configuradas via variÃ¡veis de ambiente:

```bash
ADMIN_USERNAME=admin        # PadrÃ£o: admin
ADMIN_PASSWORD=abreuelima   # PadrÃ£o: abreuelima
```

Acesse a interface de gestÃ£o em:

```
http://localhost:3000/admin
```

## ğŸ§­ Estrutura

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ [category]/               # NavegaÃ§Ã£o por categoria
â”‚   â”‚   â”œâ”€â”€ [stage]/             # Etapas da meditaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ [practice]/      # PrÃ¡ticas especÃ­ficas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [variant]/   # Variantes de texto
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ admin/                    # Interface administrativa
â”‚   â”‚   â”œâ”€â”€ _components/         # Componentes especÃ­ficos do admin
â”‚   â”‚   â”œâ”€â”€ layout.tsx           # Layout com autenticaÃ§Ã£o
â”‚   â”‚   â””â”€â”€ page.tsx             # PÃ¡gina principal do admin
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â””â”€â”€ auth/route.ts    # AutenticaÃ§Ã£o do admin
â”‚   â”‚   â”œâ”€â”€ speech/route.ts      # Rota de TTS
â”‚   â”‚   â”œâ”€â”€ categories/route.ts  # Lista de categorias
â”‚   â”‚   â””â”€â”€ database/            # APIs CRUD para dados
â”‚   â”‚       â”œâ”€â”€ route.ts         # Database principal
â”‚   â”‚       â”œâ”€â”€ seed/route.ts    # Seeding do banco
â”‚   â”‚       â”œâ”€â”€ audios/          # CRUD de Ã¡udios
â”‚   â”‚       â””â”€â”€ themes/          # CRUD de temas
â”‚   â”œâ”€â”€ components/              # Componentes globais puros (sem API calls)
â”‚   â”‚   â””â”€â”€ meditation/          # Componentes da experiÃªncia
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ query-provider.tsx       # React Query provider
â”‚   â””â”€â”€ page.tsx                 # Home com seletor de categoria
â”œâ”€â”€ constants/meditation.ts      # ConteÃºdo da sessÃ£o
â”œâ”€â”€ providers/                   # React Query hooks para API calls
â”‚   â”œâ”€â”€ useCategoriesQuery.ts    # Query de categorias
â”‚   â”œâ”€â”€ mutations-example.ts     # Exemplo de mutations
â”‚   â””â”€â”€ index.ts                 # Exports centralizados
â”œâ”€â”€ styles/                      # Estilos globais
â”‚   â””â”€â”€ globals.css              # ConfiguraÃ§Ã£o Tailwind e estilos base
â”œâ”€â”€ services/                    # Camada de serviÃ§os MongoDB
â”‚   â”œâ”€â”€ audiosService.ts
â”‚   â”œâ”€â”€ themesService.ts
â”‚   â”œâ”€â”€ meditationsService.ts
â”‚   â”œâ”€â”€ structureService.ts
â”‚   â””â”€â”€ databaseService.ts
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ seedDatabase.ts          # Script de inicializaÃ§Ã£o
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ meditation.ts            # Tipagens da interface
â”‚   â””â”€â”€ database.ts              # Schemas Zod e tipos do banco
â””â”€â”€ lib/mongodb.ts               # ConexÃ£o MongoDB
```

## ğŸ“ OrganizaÃ§Ã£o de Componentes

### Regras de Estrutura

- **`src/app/components/`** - Componentes **globais e puros**, sem chamadas a APIs

  - Componentes reutilizÃ¡veis em todo o app
  - Apenas recebem props e renderizam UI
  - Exemplo: botÃµes, cards, layouts genÃ©ricos

- **`src/app/[route]/_components/`** - Componentes **especÃ­ficos de uma rota**

  - Usam o prefixo `_` para indicar que sÃ£o privados
  - Podem fazer chamadas a APIs e usar hooks de dados
  - Exemplo: `src/app/admin/_components/ThemeEditor.tsx`

- **`src/app/[route]/page.tsx`** - PÃ¡ginas podem conter lÃ³gica
  - LÃ³gica de fetching com React Query
  - useState, useEffect e outros hooks
  - NÃ£o extrair em componentes separados a menos que necessÃ¡rio para reuso

### Exemplo de OrganizaÃ§Ã£o

```typescript
src/app/
â”œâ”€â”€ components/              # âœ… Componentes puros globais
â”‚   â”œâ”€â”€ Button.tsx          # BotÃ£o reutilizÃ¡vel
â”‚   â””â”€â”€ Card.tsx            # Card genÃ©rico
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ _components/        # âœ… Componentes do admin
â”‚   â”‚   â”œâ”€â”€ ThemeForm.tsx  # FormulÃ¡rio de tema (usa API)
â”‚   â”‚   â””â”€â”€ AudioList.tsx  # Lista de Ã¡udios (usa API)
â”‚   â””â”€â”€ page.tsx           # âœ… PÃ¡gina com lÃ³gica inline
â””â”€â”€ [category]/
    â”œâ”€â”€ _components/        # âœ… Componentes da categoria
    â”‚   â””â”€â”€ StageCard.tsx  # Card especÃ­fico de etapa
    â””â”€â”€ page.tsx           # âœ… PÃ¡gina com lÃ³gica inline
```

## ï¿½ MÃ©todo de MeditaÃ§Ã£o

### Estrutura de ComposiÃ§Ã£o

O sistema de meditaÃ§Ã£o compÃµe sessÃµes dinamicamente a partir de trÃªs fontes:

1. **Base Global** (`meditations` collection): Frases padrÃ£o para todas as categorias
2. **MÃ©todo de Estrutura** (`structure.method`): Define a ordem das prÃ¡ticas
3. **Especificidades do Tema** (`structure.specifics` + `themes[].meditations`): Sobrescreve prÃ¡ticas especÃ­ficas

### Fluxo de ComposiÃ§Ã£o

1. **Frontend**: Seleciona categoria
2. **Backend**: Busca `structure.method` para determinar ordem das prÃ¡ticas
3. **Backend**: Para cada prÃ¡tica, pega **1 frase aleatÃ³ria** de:

   - `meditations.opening.psychoeducation`
   - `meditations.opening.intention`
   - `meditations.opening.posture_and_environment`
   - `meditations.opening.initial_breathing`
   - `meditations.opening.attention_orientation`
   - `meditations.concentration.guided_breathing_rhythm`
   - `meditations.concentration.progressive_body_relaxation`
   - `meditations.concentration.non_judgmental_observation`
   - `meditations.concentration.functional_silence`
   - `meditations.exploration.main_focus`
   - `meditations.exploration.narrative_guidance_or_visualization`
   - `meditations.exploration.subtle_reflection_or_insight`
   - `meditations.exploration.emotional_integration`
   - `meditations.awakening.body_reorientation`
   - `meditations.awakening.final_breathing`
   - `meditations.awakening.intention_for_the_rest_of_the_day`
   - `meditations.awakening.closing`

4. **AplicaÃ§Ã£o de Especificidades**: Verifica `structure.specifics[stage][practice]`
   - Se `true`: Substitui a frase base por uma aleatÃ³ria de `themes[category].meditations[stage][practice]`
   - Se `false`: MantÃ©m a frase da base global

### Exemplo

Para categoria "anxiety":

- `structure.specifics.opening.psychoeducation = true`
  â†’ Usa frase de `themes.anxiety.meditations.opening.psychoeducation[]`
- `structure.specifics.opening.intention = false`
  â†’ Usa frase de `meditations.opening.intention[]`

### Schema de Dados

```typescript
{
  meditations: {
    [stage]: {
      [practice]: string[]  // Base global
    }
  },
  structure: {
    method: Array<{ [stage]: string[] }>,  // Ordem das prÃ¡ticas
    specifics: {
      [stage]: {
        [practice]: boolean  // true = usa tema especÃ­fico
      }
    }
  },
  themes: [{
    category: string,
    meditations: {
      [stage]: {
        [practice]: string[]  // Sobrescreve quando specific = true
      }
    }
  }]
}
```

## ï¿½ğŸ§© InteraÃ§Ã£o em detalhes

- **Overlay inicial**: botÃ£o circular sem textos internos, apenas Ã­cones (Play + Wind) com efeito lÃ­quido.
- **Header**: badge de milestone, LED ritmado pelo metrÃ´nomo e botÃ£o â€œAvanÃ§ar Etapaâ€.
- **Visualizador de respiraÃ§Ã£o**: barras em glassmorphism pulsando conforme o perÃ­odo configurado.
- **Knob 3D**: controla o perÃ­odo do metrÃ´nomo com feedback de BPM e micro-animaÃ§Ãµes no ritmo das batidas.
- **Controles finais**: opÃ§Ãµes para encerrar ou reiniciar a jornada; na fase final o metrÃ´nomo permanece ativo.

## ğŸ”­ PrÃ³ximos passos sugeridos

- GeraÃ§Ã£o dinÃ¢mica de roteiros via IA a partir de temas livres.
- Biblioteca de trilhas sonoras ambientes expandida.
- Sistema de usuÃ¡rios e histÃ³rico de sessÃµes.
- ExportaÃ§Ã£o de sessÃµes e compartilhamento.
- Modo escuro multi-tons.
- Analytics de uso e progresso pessoal.
- IntegraÃ§Ã£o com dispositivos wearable para biofeedback.

## ï¿½ Rules Directory

The `/rules` directory contains comprehensive documentation and guidelines for development patterns:

### Available Rules

- **`DATABASE.md`** - Complete database system documentation
  - MongoDB collections structure (themes, meditations, structure, audios)
  - Data schemas and validation rules
  - Seeding and migration procedures
  - Query patterns and aggregation examples

- **`TYPE_SAFETY_RULES.md`** - Type safety guidelines and enforcement
  - Centralized type definitions in `/src/types`
  - Shared types between frontend and backend
  - Examples of correct vs incorrect patterns
  - Benefits and impact of type safety

- **`GLOBAL_API_TYPES.md`** - API type system documentation
  - Complete API request/response types
  - Category breakdown (40+ type definitions)
  - Usage examples for backend and frontend
  - Integration with React Query providers

### Purpose

The `/rules` directory serves as:

âœ… **Reference Documentation** - Detailed specs for all system components  
âœ… **Development Guidelines** - Patterns and best practices to follow  
âœ… **Onboarding Resource** - Complete context for new developers  
âœ… **Quality Enforcement** - Standards for code reviews  

### When to Consult

- **Before** implementing new features that interact with the database
- **Before** creating new API routes or modifying existing ones
- **Before** defining new types or interfaces
- **During** code reviews to verify compliance with patterns
- **When** troubleshooting type errors or API contract issues

### Adding New Rules

When creating new patterns or conventions:

1. Document them in a new file in `/rules`
2. Use clear examples (correct âœ… vs incorrect âŒ)
3. Explain the rationale and benefits
4. Update this section with a reference
5. Link from relevant code or commit messages

## ï¿½ğŸ“š DocumentaÃ§Ã£o Adicional

- [`DATABASE.md`](DATABASE.md) - DocumentaÃ§Ã£o completa do sistema de banco de dados
- [`.github/copilot-instructions.md`](.github/copilot-instructions.md) - InstruÃ§Ãµes para desenvolvimento com Copilot

## ğŸ“„ LicenÃ§a

DistribuÃ­do sob licenÃ§a MIT. Consulte `LICENSE` para mais detalhes.
